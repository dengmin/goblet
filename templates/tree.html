{% extends "repo_base.html" %}
{% block repo_content %}
<h2><a href="{{ url_for('repo', repo=repo.name) }}">{{ repo.name }}</a> / {{ path }}</h2>
<table id="filetree">
<thead>
  <tr><th>&nbsp;</th><th class="name">Name</th><th class="age">Age</th><th class="message">Message</th></tr>
</thead>
<tbody>
  {% if path != "" %}
  <tr>
    <td><img src="/static/up_icon.png" /></td>
    <td class="name"><a href="../">(up one folder)</td>
    <td class="age">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  {% endif %}
  {% for file in tree %}
  <tr>
    <td><img src="{{ file_icon(file) }}" /></td>
    {% with link = tree_link(repo, ref, path, file) %}
    <td class="name">{% if link %}<a href="{{ link }}">{% endif %}{{ file.name }}{% if link %}</a>{% endif %}</td>
    {% endwith %}
    <td class="age">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  {% endfor %}
</table>
{% if readme %}
<div class="blob">
<a name="readme"></a>
<h2><img src="{{ file_icon(readme) }}" /> <a href="{{ tree_link(repo, ref, path, readme) }}">{{ readme.name }}</a></h2>
<div class="blob-inner">
{{ render(repo, ref, path, readme, True) }}
</div>
</div>
{% endif %}
{% endblock %}
